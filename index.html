<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HUBİST - Anasayfa</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="images/favicon.ico" type="image/x-icon">
</head>
<body>
  <!-- Header ve Navigasyon -->
  <header>
    <div class="logo">
      <a href="index.html"><img src="images/logo.png" alt="HUBİST Logosu"></a>
    </div>
    <nav>
      <ul>
        <li><a href="#anasayfa">Anasayfa</a></li>
        <li><a href="#biz-kimiz">Biz Kimiz</a></li>
        <li><a href="#yarisma">Yarışmalar</a></li>
        <li><a href="#iletisim">İletişim</a></li>
        <li><a href="blog.html">Blog</a></li>
      </ul>
    </nav>
  </header>

  <!-- Sayaç Bölümü -->
  <section class="countdown">
    <h2>Bir Sonraki Yarışmaya Kalan Süre</h2>
    <p id="timer">Yükleniyor...</p>
  </section>

  <!-- Hero Bölümü -->
  <section class="hero" id="anasayfa">
    <div class="hero-content">
      <h1>HUBİST - Teknoloji ve İnovasyon</h1>
      <p>Yarışmalara katılın, yeni projeler geliştirin, geleceği şekillendirin.</p>
    </div>
  </section>

  <section class="content" id="biz-kimiz">
    <h2>Biz Kimiz?</h2>
    <p>HUBİST, teknoloji ve inovasyon alanında projeler geliştiren bir ekip olarak, mühendislik alanındaki en ileri düzeydeki bilgileri kullanarak yeni projeler ortaya koymaktadır.</p>
  </section>

  <!-- Yarışmalar Bölümü -->
  <section class="content" id="yarisma">
    <h2>Yarışmalar</h2>
    <p>HUBİST, birçok teknoloji yarışmasında yer almakta ve kendi projelerini geliştirmektedir. İHA projeleri, robot teknolojileri ve yapay zeka alanlarında büyük başarılara imza atıyoruz.</p>
    
    <!-- Yarışma Timer -->
    <div class="race-container">
      <div class="race-item">
        <div class="race-header">
          <h3>ROBOLIG</h3>
          <span class="countdown" id="robolig-countdown">Yükleniyor...</span>
        </div>
        <div class="progress-container">
          <div class="progress-bar" id="robolig-progress">
            <div class="progress-cursor"></div>
          </div>
        </div>
        <div class="time-left" id="robolig-days"></div>
      </div>

      <div class="race-item">
        <div class="race-header">
          <h3>SAVASAH IHA</h3>
          <span class="countdown" id="savasah-countdown">Yükleniyor...</span>
        </div>
        <div class="progress-container">
          <div class="progress-bar" id="savasah-progress">
            <div class="progress-cursor"></div>
          </div>
        </div>
        <div class="time-left" id="savasah-days"></div>
      </div>
    </div>
  </section>

  <!-- Katıldığımız Yarışmalar -->
  <section class="content" id="past-competitions">
    <h2>Katıldığımız Yarışmalar</h2>
    
    <div class="competition-gallery">
      <div class="competition-card">
        <div class="card-preview">
          <img src="images/competitions/robolig-2024.jpg" alt="RoboLig 2024" loading="lazy" style="object-position: center 30%;">
          <h3>2024 Teknofest RoboLig</h3>
          <button class="expand-btn">+ Detay Göster</button>
        </div>
        <div class="card-details">
          <div class="card-content">
            <h4>4.lük Ödülü</h4>
            <p>Takımımız 2024 Teknofest RoboLig yarışmasında 4. olmuştur. Bu başarımızı 2025 yılında daha ileriye taşımak ve 1. olabilmek için tüm gücümüzle hazırlanmaktayız.</p>
            <div class="competition-photos">
              <img src="images/competitions/robolig-1.jpg" alt="Yarışma Anı" loading="lazy">
              <img src="images/competitions/robolig-2.jpg" alt="Ödül Töreni" loading="lazy">
              <img src="images/competitions/robolig-3.jpg" alt="Takım Çalışması" loading="lazy">
              <img src="images/competitions/robolig-4.jpg" alt="Robot Detayı" loading="lazy">
            </div>
            <div class="competition-info">
              <h4>Yarışma Detayları</h4>
              <p><strong>Tarih:</strong> DD/MM/YYYY</p>
              <p><strong>Yer:</strong> İstanbul</p>
              <p><strong>Takım Üyeleri:</strong> [Düzenlenecek]</p>
            </div>
          </div>
          <button class="collapse-btn">× Kapat</button>
        </div>
      </div>
    </div>
  </section>

  <section class="content" id="iletisim">
    <h2>İletişim</h2>
    <p>HUBİST ekibiyle iletişime geçmek için aşağıdaki bilgileri kullanabilirsiniz.</p>
  </section>

  <script>
    // Gelişmiş Sayaç Sistemi
    document.addEventListener('DOMContentLoaded', function() {
      // Yarışma verileri
      const races = [
        {
          id: "robolig",
          date: new Date("2025-07-28T00:00:00"),
          elements: {
            progress: document.getElementById("robolig-progress"),
            days: document.getElementById("robolig-days"),
            countdown: document.getElementById("robolig-countdown")
          }
        },
        {
          id: "savasah",
          date: new Date("2025-08-22T00:00:00"),
          elements: {
            progress: document.getElementById("savasah-progress"),
            days: document.getElementById("savasah-days"),
            countdown: document.getElementById("savasah-countdown")
          }
        }
      ];

      // Ana sayaç elementleri
      const mainTimer = document.getElementById("timer");

      function updateAll() {
        const now = new Date();
        
        races.forEach(race => {
          const timeLeft = race.date - now;
          const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
          const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          
          // Progress hesaplama
          const startDate = new Date(race.date.getFullYear(), 0, 1);
          const progress = Math.min(
            ((now - startDate) / (race.date - startDate)) * 100, 
            100
          );

          // Element güncellemeleri
          if(race.elements.progress) {
            race.elements.progress.style.width = `${progress}%`;
            race.elements.days.textContent = `Son ${days} gün`;
            race.elements.countdown.textContent = `${days}g ${hours}s`;
          }
        });

        // Ana sayaç güncelleme
        if(mainTimer) {
          const mainDate = new Date("2025-07-28");
          const mainDays = Math.floor((mainDate - now) / (1000 * 60 * 60 * 24));
          const mainHours = Math.floor(((mainDate - now) % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          mainTimer.innerHTML = `${mainDays}<small>gün</small> ${mainHours}<small>saat</small>`;
        }
      }

      // Kart aç/kapa fonksiyonları
      document.querySelectorAll('.expand-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const card = btn.closest('.competition-card');
          card.querySelector('.card-details').classList.add('active');
        });
      });

      document.querySelectorAll('.collapse-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const card = btn.closest('.competition-card');
          card.querySelector('.card-details').classList.remove('active');
        });
      });

      // İlk çalıştırma ve güncelleme aralığı
      updateAll();
      setInterval(updateAll, 60000); // 1 dakikada bir güncelle
    });
  </script>
</body>
</html>
